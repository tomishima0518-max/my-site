<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ“– ã‚¹ãƒšã‚·ãƒ£ãƒ«å®Œå…¨MAXã‚µã‚¤ãƒˆğŸ”¥ğŸ‘€</title>
<style>
  body {
    margin:0;
    font-family:'Arial',sans-serif;
    background: linear-gradient(135deg,#ff0000,#ffffff);
    overflow-x:hidden;
  }
  .container { text-align:center; padding:20px; }
  h1 { margin-bottom:15px; text-shadow:0 0 8px #000; }

  .btn {
    padding:12px 24px;
    margin:8px;
    font-size:16px;
    color:#fff;
    background:linear-gradient(45deg,#ff0080,#ff8c00);
    border:none;
    border-radius:12px;
    cursor:pointer;
    box-shadow:0 0 15px #ff0080,0 0 30px #ff8c00;
    transition:0.2s ease;
  }
  .btn:hover { transform:scale(1.05); box-shadow:0 0 25px #fff; }

  .page { display:none; opacity:0; transition:opacity 0.5s ease; }
  .page.active { display:block; opacity:1; }

  .gauge-container {
    width:80%;
    background:#333;
    border-radius:20px;
    margin:20px auto;
    overflow:hidden;
  }
  .gauge-bar {
    height:28px;
    background:linear-gradient(90deg,#ff0,#f00);
    width:0%;
    transition:width 1s ease-in-out;
    color:#000;
    font-weight:bold;
    text-align:right;
    padding-right:8px;
    line-height:28px;
  }

  #particles {
    position:fixed; top:0; left:0;
    width:100%; height:100%;
    pointer-events:none; z-index:-1;
  }

  .speech {
    display:inline-block;
    background:#fff;
    color:#000;
    padding:10px 15px;
    border-radius:18px;
    margin:15px 0;
    animation: float 2s infinite alternate;
  }
  @keyframes float {
    0%{transform:translateY(0);}
    100%{transform:translateY(-10px);}
  }

  .arrow {
    font-size:2rem;
    padding:10px;
    color:#fff;
    background:linear-gradient(45deg,#00f,#0ff);
    border-radius:50%;
    box-shadow:0 0 15px #00f;
    cursor:pointer;
    user-select:none;
    margin:0 12px;
    transition:0.3s ease;
  }
  .arrow:hover { transform:scale(1.2); box-shadow:0 0 30px #0ff; }

  .yt-video { margin:12px auto; max-width:360px; width:90%; }
</style>
</head>
<body>
<div id="particles"></div>

<div class="container">
  <h1>ğŸ“– ã‚¹ãƒšã‚·ãƒ£ãƒ«å®Œå…¨MAXã‚µã‚¤ãƒˆğŸ”¥ğŸ‘€</h1>
  <div id="subscriberGaugeBar" class="gauge-container">
    <div id="subscriberGauge" class="gauge-bar">0</div>
  </div>

  <!-- ãƒšãƒ¼ã‚¸1 -->
  <div class="page active" id="page1">
    <div class="speech">ğŸ“– ã“ã“ã‚’æŠ¼ã™ã¨ãƒšãƒ¼ã‚¸ã‚ãã‚ŠåŠ¹æœï¼†éŸ³ï¼</div>
    <button class="btn" onclick="nextPage(); playSound('pageSound')">ğŸ“– æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸</button>
  </div>

  <!-- ãƒšãƒ¼ã‚¸2: æœ€æ–°å‹•ç”» -->
  <div class="page" id="page2">
    <h2>ğŸ“º æœ€æ–°å‹•ç”»</h2>
    <div id="latestVideo"></div>
    <div>
      <span class="arrow" onclick="prevPage(); playSound('pageSound')">â—€</span>
      <span class="arrow" onclick="nextPage(); playSound('pageSound')">â–¶</span>
    </div>
  </div>

  <!-- ãƒšãƒ¼ã‚¸3: æ¤œç´¢ãƒ»ã‚¸ãƒ£ãƒ³ãƒ« -->
  <div class="page" id="page3">
    <h2>ğŸ” å‹•ç”»æ¤œç´¢ãƒ»ã‚¸ãƒ£ãƒ³ãƒ«</h2>
    <input type="text" id="searchQuery" placeholder="æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰" style="padding:8px; width:60%; font-size:1rem;">
    <button class="btn" onclick="searchVideos()">æ¤œç´¢</button>
    <div style="margin-top:10px;">
      <button class="btn" onclick="showGenre('ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°')">ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</button>
      <button class="btn" onclick="showGenre('ã‚¢ã‚¯ã‚·ãƒ§ãƒ³')">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</button>
      <button class="btn" onclick="showGenre('RPG')">RPG</button>
      <button class="btn" onclick="showGenre('ã‚¸ãƒ£ãƒ³ã‚°ãƒ«')">ã‚¸ãƒ£ãƒ³ã‚°ãƒ«</button>
    </div>
    <div id="genreResults" style="margin-top:20px;"></div>
    <div>
      <span class="arrow" onclick="prevPage(); playSound('pageSound')">â—€</span>
      <span class="arrow" onclick="nextPage(); playSound('pageSound')">â–¶</span>
    </div>
  </div>

  <!-- ãƒšãƒ¼ã‚¸4: çˆ†ç™ºã‚¨ãƒ•ã‚§ã‚¯ãƒˆ -->
  <div class="page" id="page4">
    <h2>ğŸ’¥ çˆ†ç™ºã‚¨ãƒ•ã‚§ã‚¯ãƒˆ</h2>
    <button class="btn" onclick="playExplosion()">ğŸ’¥ çˆ†ç™ºï¼</button>
    <div class="speech">ãƒœã‚¿ãƒ³æŠ¼ã™ã¨éŸ³ã¨ã‚¢ãƒ‹ãƒ¡å‡ºã‚‹ã‚ˆï¼</div>
    <div>
      <span class="arrow" onclick="prevPage(); playSound('pageSound')">â—€</span>
    </div>
  </div>
</div>

<!-- åŠ¹æœéŸ³ -->
<audio id="pageSound" src="https://actions.google.com/sounds/v1/books/page_turn.ogg"></audio>
<audio id="clickSound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="explosionSound" src="https://actions.google.com/sounds/v1/explosions/explosion.ogg"></audio>

<script>
// ãƒšãƒ¼ã‚¸åˆ‡æ›¿
let currentPage = 1;
const totalPages = 4;
function showPage(n) {
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById('page'+n).classList.add('active');
}
function nextPage(){
  currentPage = currentPage===totalPages ? 1 : currentPage+1;
  showPage(currentPage);
}
function prevPage(){
  currentPage = currentPage===1 ? totalPages : currentPage-1;
  showPage(currentPage);
}

// åŠ¹æœéŸ³
function playSound(id){
  const a = document.getElementById(id);
  if(a){ a.currentTime=0; a.play().catch(()=>{}); }
}
// çˆ†ç™ºã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
function playExplosion(){
  playSound('explosionSound');
  const el = document.createElement('div');
  el.style.position='absolute';
  el.style.width='30px'; el.style.height='30px';
  el.style.background='radial-gradient(circle, #ff0, #f00)';
  el.style.borderRadius='50%';
  el.style.top=Math.random()*window.innerHeight+'px';
  el.style.left=Math.random()*window.innerWidth+'px';
  document.body.appendChild(el);
  el.animate([{transform:'scale(1)'},{transform:'scale(4)',opacity:0}],{duration:600});
  setTimeout(()=>el.remove(),600);
}

// YouTube API
const API_KEY = "AIzaSyAtuU52SYQS0mKrJrMh-TW-7mrJhYpt3Es";
const CHANNEL_ID = "UCmZY34Ev1I5FIcDC5tdXeDg";
let targetSubs = 10000;

// ç™»éŒ²è€…ã‚²ãƒ¼ã‚¸æ›´æ–°
async function fetchSubscribers(){
  try{
    const res = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`);
    const data = await res.json();
    const subs = parseInt(data.items[0].statistics.subscriberCount);
    let percent = Math.min(subs/targetSubs*100,100);
    document.getElementById('subscriberGauge').style.width = percent+'%';
    if(subs>targetSubs) targetSubs=Math.floor(targetSubs*1.3);
  }catch(e){console.error(e);}
}
fetchSubscribers();
setInterval(fetchSubscribers,300000);

// æœ€æ–°å‹•ç”»
async function fetchLatestVideo(){
  try{
    const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&order=date&maxResults=1&key=${API_KEY}`);
    const data = await res.json();
    if(data.items && data.items.length>0){
      document.getElementById('latestVideo').innerHTML =
      `<iframe class="yt-video" width="360" height="215" src="https://www.youtube.com/embed/${data.items[0].id.videoId}" frameborder="0" allowfullscreen></iframe>`;
    }
  }catch(e){console.error(e);}
}
fetchLatestVideo();
setInterval(fetchLatestVideo,300000);

// ã‚¸ãƒ£ãƒ³ãƒ«è¡¨ç¤º
async function showGenre(g){
  playSound('clickSound');
  const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&q=${encodeURIComponent(g)}&key=${API_KEY}`);
  const data = await res.json();
  let html='';
  data.items.forEach(item=>{
    if(item.id.videoId) html += `<iframe class="yt-video" width="300" height="170" src="https://www.youtube.com/embed/${item.id.videoId}"></iframe>`;
  });
  document.getElementById('genreResults').innerHTML = html;
}
// æ¤œç´¢
async function searchVideos(){
  playSound('clickSound');
  const q = document.getElementById('searchQuery').value.trim();
  if(!q) return alert("æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ï¼");
  const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&q=${encodeURIComponent(q)}&key=${API_KEY}`);
  const data = await res.json();
  let html='';
  data.items.forEach(item=>{
    if(item.id.videoId) html += `<iframe class="yt-video" width="300" height="170" src="https://www.youtube.com/embed/${item.id.videoId}"></iframe>`;
  });
  document.getElementById('genreResults').innerHTML = html;
}
</script>
</body>
</html>
