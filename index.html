<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚¹ãƒšã‚·ãƒ£ãƒ«å®Œå…¨ç‰ˆMAXã‚µã‚¤ãƒˆ</title>
<style>
  /* å…¨ãƒšãƒ¼ã‚¸å…±é€šè¨­å®š */
  body { margin:0; font-family:'Arial',sans-serif; overflow-x:hidden; transition:background 1s; }
  .page { width:100vw; height:100vh; display:none; position:relative; padding:20px; box-sizing:border-box; }
  .active { display:block; }
  
  /* ãƒšãƒ¼ã‚¸ç•ªå·è¡¨ç¤º */
  .page-number { position:fixed; bottom:10px; right:10px; font-weight:bold; font-size:16px; }

  /* å…‰ã‚‹ãƒœã‚¿ãƒ³ */
  .btn { padding:12px 24px; margin:10px; border:none; border-radius:8px; cursor:pointer; font-size:16px; transition:0.3s; box-shadow:0 0 5px #fff; }
  .btn:hover { box-shadow:0 0 20px #ff0, 0 0 40px #f0f, 0 0 60px #0ff; transform:scale(1.05); }

  /* ãƒšãƒ¼ã‚¸åˆ‡æ›¿çŸ¢å° */
  .arrow { position:fixed; top:50%; font-size:48px; cursor:pointer; color:#fff; text-shadow:0 0 10px #000; user-select:none; }
  .left { left:20px; }
  .right { right:20px; }

  /* å¹ãå‡ºã— */
  .speech { position:absolute; max-width:200px; padding:10px; background:#fff; border-radius:10px; box-shadow:0 0 10px #000; animation:float 3s ease-in-out infinite; }
  @keyframes float { 0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);} }

  /* ã‚²ãƒ¼ã‚¸ */
  .gauge-container { width:80%; height:20px; background:#222; border-radius:10px; margin:10px 0; overflow:hidden; }
  .gauge { height:100%; background:lime; width:0%; transition:width 0.2s; }

  /* çˆ†ç™ºã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
  .explosion { position:absolute; border-radius:50%; background:orange; opacity:0.7; pointer-events:none; animation:explode 0.6s forwards; }
  @keyframes explode { 0%{transform:scale(0); opacity:1;}100%{transform:scale(3); opacity:0;} }

  /* éŸ³ON/OFFè¡¨ç¤º */
  .sound-toggle { position:fixed; top:10px; right:10px; cursor:pointer; color:#fff; font-size:20px; }
</style>
</head>
<body>

<!-- ãƒšãƒ¼ã‚¸åˆ‡æ›¿çŸ¢å° -->
<div class="arrow left">&#9664;</div>
<div class="arrow right">&#9654;</div>

<!-- ãƒšãƒ¼ã‚¸ç•ªå· -->
<div class="page-number" id="pageNumber">1/5ãƒšãƒ¼ã‚¸ç›®</div>

<!-- ãƒšãƒ¼ã‚¸1 -->
<div class="page active" id="page1" style="background:linear-gradient(to bottom, #ff0000, #ffffff);">
  <div class="speech" style="top:50px; left:50px;">ğŸ“– ã“ã“ã‚’æŠ¼ã™ã¨ãƒšãƒ¼ã‚¸ãŒã‚ãã‚Œã‚‹ã‚ˆï¼</div>
  <button class="btn" onclick="playSound('pageTurn')">ğŸ“–ãƒšãƒ¼ã‚¸ã‚’ã‚ãã‚‹</button>
</div>

<!-- ãƒšãƒ¼ã‚¸2 -->
<div class="page" id="page2" style="background:linear-gradient(to bottom, #ff8800, #ffffff);">
  <div class="speech" style="top:80px; left:100px;">ğŸµ éŸ³ã‚‚å†ç”Ÿã§ãã‚‹ï¼</div>
  <button class="btn" onclick="playSound('buttonClick')">ğŸ”Šãƒœã‚¿ãƒ³éŸ³</button>
</div>

<!-- ãƒšãƒ¼ã‚¸3 -->
<div class="page" id="page3" style="background:linear-gradient(to bottom, #ffff00, #ffffff);">
  <div class="speech" style="top:50px; left:200px;">ğŸ“Š ç™»éŒ²è€…ã‚²ãƒ¼ã‚¸</div>
  <div class="gauge-container">
    <div class="gauge" id="subGauge"></div>
  </div>
  <div id="subText">0/1000</div>
</div>

<!-- ãƒšãƒ¼ã‚¸4 -->
<div class="page" id="page4" style="background:linear-gradient(to bottom, #00ff00, #ffffff);">
  <div class="speech" style="top:100px; left:50px;">ğŸ¥ æœ€æ–°å‹•ç”»ã¯ã“ã¡ã‚‰</div>
  <iframe id="latestVideo" width="560" height="315" src="" frameborder="0" allowfullscreen></iframe>
</div>

<!-- ãƒšãƒ¼ã‚¸5 -->
<div class="page" id="page5" style="background:linear-gradient(to bottom, #00ffff, #ffffff);">
  <div class="speech" style="top:50px; left:50px;">ğŸ” å‹•ç”»æ¤œç´¢ãƒãƒ¼</div>
  <input type="text" id="searchInput" placeholder="æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰">
  <button class="btn" onclick="searchVideo()">æ¤œç´¢</button>
  <div id="searchResult"></div>
</div>

<!-- éŸ³ -->
<audio id="pageTurn" src="https://www.soundjay.com/buttons/sounds/button-16.mp3"></audio>
<audio id="buttonClick" src="https://www.soundjay.com/buttons/sounds/button-09.mp3"></audio>

<script>
  // ãƒšãƒ¼ã‚¸åˆ‡æ›¿
  let currentPage = 1;
  const totalPages = 5;
  const pages = document.querySelectorAll('.page');
  const pageNumber = document.getElementById('pageNumber');

  function showPage(n) {
    pages.forEach(p => p.classList.remove('active'));
    document.getElementById('page'+n).classList.add('active');
    pageNumber.textContent = n+'/'+totalPages+'ãƒšãƒ¼ã‚¸ç›®';
  }

  document.querySelector('.arrow.left').addEventListener('click',()=>{
    currentPage = (currentPage-1<1)? totalPages : currentPage-1;
    showPage(currentPage);
  });
  document.querySelector('.arrow.right').addEventListener('click',()=>{
    currentPage = (currentPage+1>totalPages)? 1 : currentPage+1;
    showPage(currentPage);
  });

  function playSound(id){document.getElementById(id).play();createExplosion();}

  function createExplosion(){
    const e=document.createElement('div');e.classList.add('explosion');
    e.style.left=Math.random()*window.innerWidth+'px';
    e.style.top=Math.random()*window.innerHeight+'px';
    e.style.width='30px';e.style.height='30px';
    document.body.appendChild(e);
    setTimeout(()=>document.body.removeChild(e),600);
  }

  // APIã‚­ãƒ¼ã¨ãƒãƒ£ãƒ³ãƒãƒ«ID
  const API_KEY = 'AIzaSyAtuU52SYQS0mKrJrMh-TW-7mrJhYpt3Es';
  const CHANNEL_ID = 'UCmZY34Ev1I5FIcDC5tdXeDg';

  // ç™»éŒ²è€…æ•°ã‚²ãƒ¼ã‚¸æ›´æ–°
  const subGauge = document.getElementById('subGauge');
  const subText = document.getElementById('subText');
  const subTarget = 1000; // ç›®æ¨™
  let subCurrent = 0;

  async function fetchSubscribers(){
    try{
      const res = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`);
      const data = await res.json();
      subCurrent = parseInt(data.items[0].statistics.subscriberCount);
      let percent = Math.min(subCurrent/subTarget*100,100);
      subGauge.style.width = percent+'%';
      subText.textContent = `${subCurrent}/${subTarget}`;
    }catch(err){console.error(err);}
  }
  fetchSubscribers();
  setInterval(fetchSubscribers,20000); //20ç§’ã”ã¨

  // æœ€æ–°å‹•ç”»åŸ‹ã‚è¾¼ã¿
  async function fetchLatestVideo(){
    try{
      const res = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=1`);
      const data = await res.json();
      const videoId = data.items[0].id.videoId;
      document.getElementById('latestVideo').src=`https://www.youtube.com/embed/${videoId}?autoplay=0`;
    }catch(err){console.error(err);}
  }
  fetchLatestVideo();
  setInterval(fetchLatestVideo,60000); //60ç§’ã”ã¨

  // æ¤œç´¢
  async function searchVideo(){
    const keyword = document.getElementById('searchInput').value;
    if(!keyword) return;
    const res = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet&type=video&q=${encodeURIComponent(keyword)}&maxResults=5`);
    const data = await res.json();
    const resultDiv = document.getElementById('searchResult');
    resultDiv.innerHTML='';
    data.items.forEach(item=>{
      const a = document.createElement('a');
      a.href=`https://www.youtube.com/watch?v=${item.id.videoId}`;
      a.textContent = item.snippet.title;
      a.target='_blank';
      resultDiv.appendChild(a);
      resultDiv.appendChild(document.createElement('br'));
    });
  }
</script>
</body>
</html>
