<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚¹ãƒšã‚·ãƒ£ãƒ«å®Œå…¨ç‰ˆMAX</title>
<style>
body { background: linear-gradient(to bottom, #ff4c4c, #fff); font-family: sans-serif; color: #000; margin:0; padding:0;}
button { padding:10px 15px; margin:5px; border:none; border-radius:10px; cursor:pointer; background:#ff4c4c; color:#fff; font-weight:bold;}
#subscriberGauge, #timeGauge { height:20px; border-radius:10px; background:#ccc; width:300px; margin:10px 0; overflow:hidden; position:relative;}
.gaugeFill { height:100%; background:lime; width:0;}
.videoContainer { display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;}
.videoContainer iframe { width:300px; height:169px;}
</style>
</head>
<body>

<h2>ãƒãƒ£ãƒ³ãƒãƒ«ç™»éŒ²è€…æ•°ãƒ¡ãƒ¼ã‚¿ãƒ¼</h2>
<div id="subscriberGauge"><div class="gaugeFill"></div></div>
<div id="subscriberText">0 / 100000</div>
<div id="timeGauge"><div class="gaugeFill"></div></div>
<div id="timeText">0 / 20ç§’</div>

<h2>ãƒšãƒ¼ã‚¸: <span id="pageText">1/5</span></h2>

<input type="text" id="searchQuery" placeholder="æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰">
<button onclick="searchVideos()">æ¤œç´¢</button>

<div class="videoContainer" id="videoResults"></div>

<div>
<button onclick="prevPage()">â—€å‰ã®ãƒšãƒ¼ã‚¸</button>
<button onclick="nextPage()">æ¬¡ã®ãƒšãƒ¼ã‚¸â–¶</button>
</div>

<button onclick="explodeEffect()">ğŸ’¥çˆ†ç™ºã‚¨ãƒ•ã‚§ã‚¯ãƒˆğŸ’¥</button>

<script>
// ===== APIè¨­å®š =====
const API_KEY = 'ã“ã“ã«APIã‚­ãƒ¼';
const CHANNEL_ID = 'ã“ã“ã«ãƒãƒ£ãƒ³ãƒãƒ«ID';
const TARGET = 100000;
let multiplier = 1;

// ===== ãƒãƒ£ãƒ³ãƒãƒ«ç™»éŒ²è€…æ•°å–å¾— =====
async function fetchSubscribers() {
    try {
        const res = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`);
        const data = await res.json();
        const subs = parseInt(data.items[0].statistics.subscriberCount);
        const percent = Math.min(100, subs / TARGET * 100 * multiplier);
        document.querySelector("#subscriberGauge .gaugeFill").style.width = percent + '%';
        document.getElementById('subscriberText').innerText = `${subs} / ${TARGET}`;
        if(subs >= TARGET) multiplier = 1.3;
    } catch(err) { console.error(err); }
}
setInterval(fetchSubscribers, 3000); // 3ç§’ã”ã¨

// ===== ç§’æ•°ã‚²ãƒ¼ã‚¸ =====
let sec = 0;
function updateTimeGauge() {
    sec += 0.001;
    if(sec > 20) sec = 0;
    let widthPercent = (sec / 20) * 100;
    document.querySelector("#timeGauge .gaugeFill").style.width = widthPercent + '%';
    document.getElementById("timeText").innerText = sec.toFixed(2) + ' / 20ç§’';
    requestAnimationFrame(updateTimeGauge);
}
updateTimeGauge();

// ===== ãƒšãƒ¼ã‚¸åˆ‡æ›¿ =====
let currentPage = 1;
const totalPages = 5;
function updatePageText() { document.getElementById('pageText').innerText = `${currentPage}/${totalPages}`; }
function prevPage(){ if(currentPage>1) currentPage--; updatePageText(); showPageVideos(); }
function nextPage(){ if(currentPage<totalPages) currentPage++; updatePageText(); showPageVideos(); }

// ===== å‹•ç”»æ¤œç´¢ï¼†è¡¨ç¤º =====
async function searchVideos(){
    const query = document.getElementById('searchQuery').value;
    if(!query) return alert('ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã­ï¼');
    try {
        const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&q=${encodeURIComponent(query)}&key=${API_KEY}`);
        const data = await res.json();
        showVideos(data.items);
    } catch(err){ console.error(err); }
}
function showVideos(items){
    const container = document.getElementById('videoResults');
    container.innerHTML = '';
    items.forEach(item => {
        const iframe = document.createElement('iframe');
        iframe.src = `https://www.youtube.com/embed/${item.id.videoId}`;
        iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
        iframe.allowFullscreen = true;
        container.appendChild(iframe);
    });
}

// ===== ã‚µãƒ³ãƒ—ãƒ«ãƒšãƒ¼ã‚¸ç”¨å‹•ç”»è¡¨ç¤º =====
function showPageVideos() {
    // ã“ã“ã«ãƒšãƒ¼ã‚¸ã”ã¨ã®å‹•ç”»åŸ‹ã‚è¾¼ã¿å‡¦ç†
}

// ===== çˆ†ç™ºã‚¨ãƒ•ã‚§ã‚¯ãƒˆ =====
function explodeEffect(){
    alert('ğŸ’¥BOOMğŸ’¥'); // ç°¡æ˜“ãƒ‡ãƒ¢
}
</script>

</body>
</html>
