<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã‚¹ãƒšã‚·ãƒ£ãƒ«å®Œå…¨ç‰ˆã‚µã‚¤ãƒˆ</title>
<style>
  body {
    font-family: sans-serif;
    background: linear-gradient(to bottom, #ff4d4d, #ffffff);
    color: #222;
    margin:0;
    padding:0;
    display:flex;
    flex-direction:column;
    align-items:center;
  }
  h1 { margin-top:20px; }
  button { font-size:1.5rem; margin:10px; cursor:pointer; }
  #progress { width:80%; height:30px; background:#eee; border-radius:15px; overflow:hidden; margin:10px 0; }
  #progress-bar { width:0%; height:100%; background:#ff4d4d; transition: width 2s; }
  iframe { width:80%; height:300px; margin:20px 0; }
</style>
</head>
<body>

<h1>ğŸ“– ã‚¹ãƒšã‚·ãƒ£ãƒ«ã‚µã‚¤ãƒˆ</h1>
<p>ã“ã®ã‚µã‚¤ãƒˆã§ã¯ç™»éŒ²è€…æ•°ã‚²ãƒ¼ã‚¸ã¨æœ€æ–°å‹•ç”»ãŒè¦‹ã‚Œã‚‹ã‚ˆï¼ãƒœã‚¿ãƒ³ã§éŸ³ã‚‚å‡ºã›ã‚‹ğŸ”¥</p>

<button id="page-flip">ğŸ“– ãƒšãƒ¼ã‚¸ã‚’ã‚ãã‚‹</button>
<audio id="flip-sound" src="https://www.myserver.com/flip.mp3"></audio>

<div id="subscribers">ç™»éŒ²è€…æ•°: 0</div>
<div id="progress"><div id="progress-bar"></div></div>

<h2>æœ€æ–°å‹•ç”»</h2>
<iframe id="latest-video" src="" frameborder="0" allowfullscreen></iframe>

<button onclick="playSound('click')">ğŸ”Š åŠ¹æœéŸ³</button>
<audio id="click-sound" src="https://www.myserver.com/click.mp3"></audio>

<button onclick="location.href='https://tomishima0518-max.github.io/my-site/'">â–¶ ç§ã®ã‚µã‚¤ãƒˆã¯ã“ã¡ã‚‰</button>
<button onclick="location.href='https://www.youtube.com/@ãƒªãƒ¥ã‚¦ãƒ†ãƒ³ã®Gameå®Ÿæ³'">â–¶ ãƒãƒ£ãƒ³ãƒãƒ«ã¯ã“ã¡ã‚‰</button>

<script>
const API_KEY = "AIzaSyAtuU52SYQS0mKrJrMh-TW-7mrJhYpt3Es"; // è‡ªåˆ†ã®APIã‚­ãƒ¼
const CHANNEL_ID = "UCmZY34Ev1I5FIcDC5tdXeDg"; // è‡ªåˆ†ã®ãƒãƒ£ãƒ³ãƒãƒ«ID
const TARGET = 140; // ç›®æ¨™ç™»éŒ²è€…æ•°

// ç™»éŒ²è€…æ•°å–å¾—ã¨ã‚²ãƒ¼ã‚¸æ›´æ–°
async function fetchSubscribers(){
  try{
    const res = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`);
    const data = await res.json();
    const subs = parseInt(data.items[0].statistics.subscriberCount);
    document.getElementById('subscribers').innerText = `ç™»éŒ²è€…æ•°: ${subs}`;
    let percent = (subs/TARGET)*100;
    if(subs>TARGET) percent = ((subs/TARGET)*1.2*100);
    document.getElementById('progress-bar').style.width = percent + "%";
  }catch(e){console.error(e);}
}
fetchSubscribers();
setInterval(fetchSubscribers, 300000); // 5åˆ†ã”ã¨

// æœ€æ–°å‹•ç”»å–å¾—
async function fetchLatestVideo(){
  try{
    const res = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet&order=date&maxResults=1`);
    const data = await res.json();
    const videoId = data.items[0].id.videoId;
    document.getElementById('latest-video').src = `https://www.youtube.com/embed/${videoId}`;
  }catch(e){console.error(e);}
}
fetchLatestVideo();
setInterval(fetchLatestVideo,300000);

// åŠ¹æœéŸ³å†ç”Ÿ
function playSound(id){
  const audio = document.getElementById(id+'-sound');
  audio.currentTime = 0;
  audio.play();
}

// ãƒšãƒ¼ã‚¸ã‚ãã‚ŠéŸ³
document.getElementById('page-flip').addEventListener('click', ()=>{
  playSound('flip');
  alert("ãƒšãƒ¼ã‚¸ãŒã‚ãã‚ŒãŸã‚ˆï¼");
});
</script>

</body>
</html>
