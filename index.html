<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å®Œå…¨ãƒ•ãƒ«MAXã‚¹ãƒšã‚·ãƒ£ãƒ«ã‚µã‚¤ãƒˆğŸ”¥</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

  /* å…¨ä½“èƒŒæ™¯ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ */
  body {
    margin: 0;
    font-family: 'Press Start 2P', cursive;
    background: linear-gradient(135deg, #ff0000, #ffffff);
    color: #fff;
    overflow-x: hidden;
  }

  /* ãƒšãƒ¼ã‚¸åˆ‡æ›¿ç”¨ã‚³ãƒ³ãƒ†ãƒŠ */
  .page {
    display: none;
    padding: 20px;
    min-height: 100vh;
    transition: all 1s ease;
  }
  .page.active { display: block; }

  /* ã‚¿ã‚¤ãƒˆãƒ«è£…é£¾ */
  h1 {
    font-size: 2em;
    text-align: center;
    text-shadow: 2px 2px 5px #000;
  }

  /* ãƒœã‚¿ãƒ³ */
  .btn {
    display: inline-block;
    margin: 10px;
    padding: 15px 25px;
    font-size: 16px;
    font-weight: bold;
    color: #fff;
    background: linear-gradient(45deg,#ff0,#f0f);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 0 20px #fff;
    transition: all 0.3s ease;
  }
  .btn:hover { box-shadow: 0 0 50px #ff0; transform: scale(1.1); }

  /* å…‰ã‚‹çŸ¢å° */
  .arrow {
    font-size: 2em;
    color: #0ff;
    animation: glow 1s infinite alternate;
    cursor: pointer;
  }
  @keyframes glow {
    from { text-shadow: 0 0 5px #0ff; }
    to   { text-shadow: 0 0 20px #0ff; }
  }

  /* å¹ãå‡ºã— */
  .bubble {
    position: relative;
    background: #000;
    border-radius: 10px;
    padding: 10px;
    margin: 20px 0;
    animation: float 2s infinite alternate;
  }
  .bubble::after {
    content: '';
    position: absolute;
    bottom: 0; left: 20px;
    width: 0; height: 0;
    border: 10px solid transparent;
    border-top-color: #000;
    border-bottom: 0;
    margin-left: -5px;
    margin-bottom: -10px;
  }
  @keyframes float {
    from { transform: translateY(0); }
    to { transform: translateY(-10px); }
  }

  /* ã‚²ãƒ¼ã‚¸ */
  .gauge-container {
    width: 80%;
    background: #333;
    border-radius: 20px;
    margin: 20px auto;
    overflow: hidden;
  }
  .gauge-bar {
    height: 30px;
    background: linear-gradient(90deg,#ff0,#f0f);
    width: 0%;
    transition: width 1s ease;
  }

  /* çˆ†ç™ºã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
  .explosion {
    position: absolute;
    width: 20px; height: 20px;
    border-radius: 50%;
    background: yellow;
    pointer-events: none;
    animation: explode 0.6s forwards;
  }
  @keyframes explode {
    0% { transform: scale(1); opacity: 1; }
    100% { transform: scale(5); opacity: 0; }
  }
</style>
</head>
<body>

<h1>ğŸ“– MAXã‚¹ãƒšã‚·ãƒ£ãƒ«ã‚µã‚¤ãƒˆğŸ”¥</h1>
<div class="bubble">ã“ã“ã‚’è¦‹ã¦ã€å…¨æ©Ÿèƒ½ä½“é¨“ï¼</div>

<!-- ãƒšãƒ¼ã‚¸åˆ‡æ›¿ãƒœã‚¿ãƒ³ -->
<div style="text-align:center;">
  <span class="arrow" onclick="prevPage()">â—€</span>
  <span class="arrow" onclick="nextPage()">â–¶</span>
</div>

<!-- ãƒšãƒ¼ã‚¸1 -->
<div class="page active" id="page1">
  <h2>ç§ã®ã‚µã‚¤ãƒˆã¯ã“ã¡ã‚‰ï¼</h2>
  <button class="btn" onclick="playSound('pageflip'); location.href='https://tomishima0518-max.github.io/my-site/'">â–¶ ã‚µã‚¤ãƒˆã‚’é–‹ã</button>
  <div class="gauge-container">
    <div class="gauge-bar" id="subscriberGauge"></div>
  </div>
</div>

<!-- ãƒšãƒ¼ã‚¸2 -->
<div class="page" id="page2">
  <h2>ãƒãƒ£ãƒ³ãƒãƒ«ã¯ã“ã¡ã‚‰ï¼</h2>
  <button class="btn" onclick="playSound('click'); location.href='https://www.youtube.com/@ãƒªãƒ¥ã‚¦ãƒ†ãƒ³ã®Gameå®Ÿæ³'">â–¶ YouTubeã¸</button>
  <div class="bubble">æœ€æ–°å‹•ç”»ã‚‚ã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ï¼</div>
  <div id="latestVideo"></div>
</div>

<audio id="pageflip">
  <source src="https://actions.google.com/sounds/v1/books/page_turn.ogg" type="audio/ogg">
</audio>
<audio id="click">
  <source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" type="audio/ogg">
</audio>

<script>
  // ãƒšãƒ¼ã‚¸åˆ‡æ›¿
  let pages = document.querySelectorAll('.page');
  let currentPage = 0;
  function showPage(index){
    pages.forEach(p=>p.classList.remove('active'));
    pages[index].classList.add('active');
  }
  function nextPage(){ currentPage=(currentPage+1)%pages.length; showPage(currentPage); playExplosion(); }
  function prevPage(){ currentPage=(currentPage-1+pages.length)%pages.length; showPage(currentPage); playExplosion(); }

  // åŠ¹æœéŸ³å†ç”Ÿ
  function playSound(id){ document.getElementById(id).play(); }

  // çˆ†ç™ºã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
  function playExplosion(){
    let exp = document.createElement('div');
    exp.className='explosion';
    exp.style.left=(window.innerWidth/2)+'px';
    exp.style.top=(window.innerHeight/2)+'px';
    document.body.appendChild(exp);
    setTimeout(()=>exp.remove(),600);
  }

  // ç™»éŒ²è€…æ•°ã‚²ãƒ¼ã‚¸API
  const API_KEY = 'AIzaSyAtuU52SYQS0mKrJrMh-TW-7mrJhYpt3Es';
  const CHANNEL_ID = 'UCmZY34Ev1I5FIcDC5tdXeDg';
  let targetSubs = 10000; //ç›®æ¨™
  async function fetchSubscribers(){
    try{
      const res = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`);
      const data = await res.json();
      if(data.items && data.items.length>0){
        let subs = parseInt(data.items[0].statistics.subscriberCount);
        let percent = Math.min(subs/targetSubs*100,100);
        document.getElementById('subscriberGauge').style.width = percent+'%';
        // ç›®æ¨™è¶…ãˆãŸã‚‰å€ç‡ã‚¢ãƒƒãƒ—
        if(subs>targetSubs){ targetSubs=Math.floor(targetSubs*1.3); }
      }
    }catch(e){ console.log(e); }
  }
  fetchSubscribers();
  setInterval(fetchSubscribers,300000); //5åˆ†ã”ã¨æ›´æ–°

  // æœ€æ–°å‹•ç”»è¡¨ç¤º
  async function fetchLatestVideo(){
    try{
      const res = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=1`);
      const data = await res.json();
      if(data.items && data.items.length>0){
        const vidId = data.items[0].id.videoId;
        document.getElementById('latestVideo').innerHTML = `
          <iframe width="320" height="180" src="https://www.youtube.com/embed/${vidId}" frameborder="0" allowfullscreen></iframe>
        `;
      }
    }catch(e){ console.log(e); }
  }
  fetchLatestVideo();
</script>
</body>
</html>
